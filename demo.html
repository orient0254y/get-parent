<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>init版 getParent</title>
</head>
<body>
  <div>init版 -- 请打开控制台</div>
  <pre>
    <code>
      #### 通过npm引入使用
      1.  npm install get-parent --save;
      2.  import GPI from "get-parent"; // GPI自己可以定义其它名字
      3.  GPI.init(objectName, object); // 需要用哪个对象在给他初始化
      4.  childObject.getParent(); // 获取父对象
      5.  object.add(key, value); //对象添加新元素,通过此方法添加的对象、数组、函数仍然可以获取到父对象
      6.  Array的push/unshift/splice已经改造，增加元素一样可以监听


      #### 通过script标签引入使用
      1.  路径根据自己的文件位置定义<script src="./getParent.js"></script>
      2.  let GPI = window.GPI;
      3.  GPI.init(objectName, object);// 需要用哪个对象在给他初始化
      4.  childObject.getParent(); // 获取父对象
      5.  object.add(key, value); //对象添加新元素,通过此方法添加的对象、数组、函数仍然可以获取到父对象
      6.  Array的push/unshift/splice已经改造，增加元素一样可以监听
    </code>
  </pre>
  <script src="./getParent.js"></script>
  <script>
    let obj = {
      a: 1,
      b: {
        val : 2,
        c: {
          val: 3
        }
      },
      test(a){
        console.log(a);
      },
      d: [1,2,3,4,{
        e: 123
      }],
      e: null,
      f: new String('adf'),
      g: new Number(123)
    }

    let c = obj.b.c;
    let test = obj.test;

    let d = obj.d;
    let GPI = window.GPI;

    GPI.init("obj", obj);
    console.log("定义原始对象obj: ", obj);
    console.log('定义c=obj.b.c: ',c);
    console.log('定义test=obj.test: ',test);

    console.log("d.getParent(): ", d.getParent());

    console.log("c.getParent(): ", c.getParent());

    let f = obj.f;
    console.log("定义f = obj.f: ", f);
    console.log("f.getParent()", f.getParent());



    // ======================

    let array = [1,23,4, {
      asd: {
        fff: 2323
      }
    }]

    GPI.init('array', array);

    console.log("定义原始数组array: ", array);
    let a3 = array[3];
    console.log("定义a3 = array[3]: ", array[3]);
    console.log("a3.getParent(): ",a3.getParent());
  </script>
</body>
</html>