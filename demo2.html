<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>new Class 版 getParent</title>
</head>
<body>
  <div>new Class()版 -- 请打开控制台</div>
  <pre>
    <code>
      #### 通过npm引入使用
      1.  npm install get-parent --save;
      2.  import GPI from "get-parent"; // GPI自己可以定义其它名字
      3.  let gpi = new GPI(objectName, object); // 需要用哪个对象在给他初始化
      4.  childObject.getParent(); // 获取父对象
      5.  object.add(key, value); //对象添加新元素,通过此方法添加的对象、数组、函数仍然可以获取到父对象
      6.  Array的push/unshift/splice已经改造，增加元素一样可以监听
      7.  gpi.ancestors // 获取原对象，祖先对象


      #### 通过script标签引入使用
      1.  路径根据自己的文件位置定义<script src="./getParentFn.js"></script>
      2.  let GPI = window.GPI;
      3.  let gpi = new GPI(objectName, object);// 需要用哪个对象在给他初始化
      4.  childObject.getParent(); // 获取父对象
      5.  object.add(key, value); //对象添加新元素,通过此方法添加的对象、数组、函数仍然可以获取到父对象
      6.  Array的push/unshift/splice已经改造，增加元素一样可以监听
      7.  gpi.ancestors // 获取原对象，祖先对象
    </code>
  </pre>
  <script src="./getParentFn.js"></script>
  <script>
    let obj = {
      a: 1,
      b: {
        val : 2,
        c: {
          val: 3
        }
      },
      test(a){
        console.log(a);
      },
      d: [1,2,3,4,{
        e: 123
      }],
      e: null,
      f: new String('adf'),
      g: new Number(123)
    }

    console.log("初始对象obj: ", obj);

    let c = obj.b.c;
    console.log("obj.b.c: ",c);
    let test = obj.test;
    console.log("obj.test: ",test);

    let d = obj.d;
    let GPI = window.GPI;
    let gpi = new GPI("obj", obj);

    console.log("d.getParent(): ", d.getParent());

    console.log(c.getParent());



    // ======================

    let array = [1,23,4, {
      asd: {
        fff: 2323
      }
    }]

    let gpi2 = new GPI('array', array);

    console.log(array[3]);
    console.log(array[3].getParent());


    let obj2 = {
      zzz: 111,
      xxx: {
        ccc: 123
      }
    }
  </script>
</body>
</html>